COLECAO,TIPO_DE_DADO,NOME / TIPO_DE_REGRA,TIPO_DE_CAMPO / REGRA,OPCOES
users,FIELD,name,text,"{""required"":false}"
users,FIELD,avatar,file,"{""required"":false,""mimeTypes"":[""image/jpeg"",""image/png"",""image/svg+xml"",""image/gif"",""image/webp""]}"
users,FIELD,phone,text,"{""required"":false}"
users,FIELD,role,select,"{""required"":false,""options"":{""maxSelect"":4,""values"":[""Passageiro"",""Motorista"",""Atendente"",""Admin""]}}"
users,FIELD,driver_status,select,"{""required"":false,""options"":{""maxSelect"":1,""values"":[""online"",""offline"",""urban-trip"",""rural-trip""]}}"
users,FIELD,driver_vehicle_model,text,"{""required"":false}"
users,FIELD,driver_vehicle_plate,text,"{""required"":false}"
users,FIELD,driver_cnpj,text,"{""required"":false}"
users,FIELD,driver_pix_key,text,"{""required"":false}"
users,FIELD,driver_fare_type,select,"{""required"":false,""options"":{""maxSelect"":1,""values"":[""fixed"",""km""]}}"
users,FIELD,driver_fixed_rate,number,"{""required"":false}"
users,FIELD,driver_km_rate,number,"{""required"":false}"
users,FIELD,driver_accepts_rural,bool,"{""required"":false}"
users,FIELD,disabled,bool,"{""required"":false}"
users,RULE,listRule,"role = ""Motorista""",""
users,RULE,viewRule,"id = @request.auth.id || role != """",""
users,RULE,createRule,"",""
users,RULE,updateRule,"id = @request.auth.id || @request.auth.role = ""Admin""",""
users,RULE,deleteRule,"@request.auth.role = ""Admin""",""
"",,"",,
rides,FIELD,passenger,relation,"{""required"":false,""collectionId"":""_pb_users_auth_""}"
rides,FIELD,driver,relation,"{""required"":false,""collectionId"":""_pb_users_auth_""}"
rides,FIELD,origin_address,text,"{""required"":true}"
rides,FIELD,destination_address,text,"{""required"":true}"
rides,FIELD,status,select,"{""required"":true,""options"":{""values"":[""requested"",""accepted"",""in_progress"",""completed"",""canceled""]}}"
rides,FIELD,fare,number,"{""required"":true}"
rides,FIELD,is_negotiated,bool,"{""required"":true}"
rides,FIELD,started_by,select,"{""required"":true,""options"":{""values"":[""passenger"",""driver""]}}"
rides,FIELD,passenger_anonymous_name,text,"{""required"":false}"
rides,RULE,listRule,"(@request.auth.id != """") && (passenger = @request.auth.id || driver = @request.auth.id || @request.auth.role = ""Admin"" || @request.auth.role = ""Atendente"")",""
rides,RULE,viewRule,"(@request.auth.id != """") && (passenger = @request.auth.id || driver = @request.authid || @request.auth.role = ""Admin"" || @request.auth.role = ""Atendente"")",""
rides,RULE,createRule,"(@request.auth.id != """") || passenger_anonymous_name != """",""
rides,RULE,updateRule,"(@request.auth.id != """") && (driver = @request.auth.id || passenger = @request.auth.id || @request.auth.role = ""Admin"")",""
rides,RULE,deleteRule,"@request.auth.role = ""Admin""",""
"",,"",,
chats,FIELD,participants,relation,"{""required"":true,""collectionId"":""_pb_users_auth_"",""minSelect"":2,""maxSelect"":2}"
chats,FIELD,ride,relation,"{""required"":false,""collectionId"":""b1wtu7ah1l75gen""}"
chats,FIELD,last_message,text,"{""required"":false}"
chats,RULE,listRule,"participants.id ?= @request.auth.id || @request.auth.role = ""Admin"" || @request.auth.role = ""Atendente""",""
chats,RULE,viewRule,"participants.id ?= @request.auth.id || @request.auth.role = ""Admin"" || @request.auth.role = ""Atendente""",""
chats,RULE,createRule,"participants.id ?= @request.auth.id",""
chats,RULE,updateRule,"participants.id ?= @request.auth.id || @request.auth.role = ""Admin""",""
chats,RULE,deleteRule,"@request.auth.role = ""Admin""",""
"",,"",,
messages,FIELD,chat,relation,"{""required"":true,""collectionId"":""p8gnsp8g97no99u"",""cascadeDelete"":true}"
messages,FIELD,sender,relation,"{""required"":true,""collectionId"":""_pb_users_auth_""}"
messages,FIELD,text,text,"{""required"":true}"
messages,RULE,listRule,"chat.participants.id ?= @request.auth.id || @request.auth.role = ""Admin"" || @request.auth.role = ""Atendente""",""
messages,RULE,viewRule,"chat.participants.id ?= @request.auth.id || @request.auth.role = ""Admin""",""
messages,RULE,createRule,"chat.participants.id ?= @request.auth.id",""
messages,RULE,updateRule,"@request.auth.role = ""Admin""",""
messages,RULE,deleteRule,"@request.auth.role = ""Admin""",""
"",,"",,
driver_documents,FIELD,driver,relation,"{""required"":true,""collectionId"":""_pb_users_auth_""}"
driver_documents,FIELD,document_type,select,"{""required"":true,""options"":{""values"":[""CNH"",""CRLV"",""VEHICLE_PHOTO""]}}"
driver_documents,FIELD,file,file,"{""required"":true,""mimeTypes"":[""image/jpeg"",""image/png"",""image/webp""]}"
driver_documents,FIELD,is_verified,bool,"{""required"":false}"
driver_documents,RULE,listRule,"(@request.auth.id != """") && (driver = @request.auth.id || @request.auth.role = ""Admin"")",""
driver_documents,RULE,viewRule,"(@request.auth.id != """") && (driver = @request.auth.id || @request.auth.role = ""Admin"")",""
driver_documents,RULE,createRule,"(@request.auth.id != """") && driver = @request.auth.id",""
driver_documents,RULE,updateRule,"(@request.auth.id != """") && (driver = @request.auth.id || @request.auth.role = ""Admin"")",""
driver_documents,RULE,deleteRule,"@request.auth.role = ""Admin""",""
"",,"",,
driver_status_logs,FIELD,driver,relation,"{""required"":true,""collectionId"":""_pb_users_auth_""}"
driver_status_logs,FIELD,status,text,"{""required"":true}"
driver_status_logs,RULE,listRule,"@request.auth.role = ""Admin""",""
driver_status_logs,RULE,viewRule,"@request.auth.role = ""Admin""",""
driver_status_logs,RULE,createRule,"(@request.auth.id != """") && @request.auth.role = ""Motorista""",""
driver_status_logs,RULE,updateRule,"""",""
driver_status_logs,RULE,deleteRule,"""",""
